# ミドルウェア
- webアプリケーションのリクエストレスポンスサイクルにおいて任意の処理を行う関数

## できること
- 任意のコードの実行
- リクエストオブジェクト・レスポンスオブジェクトの変更
- レスポンスサイクルの終了
- スタック内の次のミドルウェアの呼び出し

## ミドルウェアの作成
- 通常処理  
3つの引数。
```js
function (req, res, next) {
  // 何らかの処理
  next();
}
```
- エラー処理  
4つの引数。4つであることでエラーを認識するようになる。
```js
function (err, req, res, next) {
  // 何らかの処理
  next();
}
```

## ミドルウェアの利用
```js
const express = require('express');
const app = express();

// アプリケーションのミドルウェア
// アプリケーションレベル・すべてのリクエストに対して処理できる
app.use((req, res, next) => {});

app.listen(3000);
```